<div class="flex-col rounded-lg bg-background px-8 py-8 sm:flex-row">
  <div class="mb-4 flex flex-col lg:flex-row lg:items-center justify-between">
    <div class="flex items-center lg:items-start overflow-x-hidden">
      <h3 class="text-md font-bold text-foreground whitespace-nowrap">รายชื่อผู้ใช้</h3>
    </div>
    <div class="flex flex-col justify-end sm:flex-row gap-0 sm:gap-4">
      <div class="pt-2 relative text-muted-foreground">
        <input class="bg-background  px-5 pr-12 rounded-lg text-sm focus:outline-none" type="text" name="search" placeholder="ค้นหา">
        <button type="submit" class="absolute right-0 top-0 mt-5 mr-4"> <svg class="text-gray-600 h-4 w-4 fill-current" xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" viewBox="0 0 56.966 56.966" width="512px" height="512px"> <path d="M55.146,51.887L41.588,37.786c3.486-4.144,5.396-9.358,5.396-14.786c0-12.682-10.318-23-23-23s-23,10.318-23,23  s10.318,23,23,23c4.761,0,9.298-1.436,13.177-4.162l13.661,14.208c0.571,0.593,1.339,0.92,2.162,0.92  c0.779,0,1.518-0.297,2.079-0.837C56.255,54.982,56.293,53.08,55.146,51.887z M23.984,6c9.374,0,17,7.626,17,17s-7.626,17-17,17  s-17-7.626-17-17S14.61,6,23.984,6z"/> </svg> </button>
      </div>
      <div class="pt-2 relative bg-transparent" *ngIf="auth.user.role.organizationId === '1'">
        <select [(ngModel)]="tap" class="bg-background px-5 pr-12 rounded-lg text-sm focus:outline-none">
          <option disabled selected hidden value="">เลือกองค์กร</option>
          <option *ngFor="let obj of organizations" [value]="obj.name">{{ obj.name }}</option>
        </select>
      </div>
    </div>
  </div>


  <div class="relative overflow-x-auto">
    <table class="w-full table-auto mt-4" >
      <thead class="text-xs uppercase text-muted-foreground">
      <tr>
        <th class="py-3 text-left">ชื่อ</th>
        <th class="py-3 text-right">องค์กร</th>
        <th class="py-3 text-right">ตำแหน่ง</th>
        <th class="py-3 text-right">เบอร์โทรศัพท์</th>
        <th class="py-3 text-right">แก้ไข</th>
      </tr>
      </thead>
      <tbody>
      <tr class="border-b border-dashed border-border hover:bg-card ng-star-inserted whitespace-nowrap  w-fit" *ngFor="let obj of tap !== ''? users[tap] : getAllUser ">
        <td class="flex justify-center md:justify-start flex-wrap py-2 pl-2">
          <img [ngSrc]="environment.apiUrl + obj[obj.type].profile" width="40" height="40" class="mr-2 h-10 w-10 flex-none rounded-sm" alt=""/>
          <div class="flex flex-col">
            <a href="#" class="mb-1 text-sm font-semibold text-foreground">{{ obj[obj.type].name }}</a>
            <span class="text-xs font-semibold text-muted-foreground/50">{{ obj.email }}</span>
          </div>
        </td>
        <td class="py-2 pl-2 text-right text-muted-foreground">
          <span class="text-sm font-semibold text-muted-foreground">{{ obj.role.organization.name }}{{ obj.role.organizationId  !== '1' ? 'คณะ' + obj[obj.type].faculty.name : ''}} </span>
        </td>
        <td class="py-2 pl-2 text-right">
          <span
            class="text-sm font-semibold text-muted-foreground">{{ obj.role.position.name }}</span>
        </td>
        <td class="py-2 pl-2 text-right">
          <span class="text-sm font-semibold text-muted-foreground">{{ obj[obj.type].phoneNumber }}</span>
        </td>
        <td class="py-2 pl-2 text-right">
          <div class="flex justify-end">
            <button class="flex h-7 w-7 items-center justify-center rounded-md bg-card text-muted-foreground hover:bg-muted hover:text-foreground">
              <svg-icon src="assets/icons/heroicons/outline/dots-horizontal.svg" [svgClass]="'h-5 w-5'"></svg-icon>
            </button>
          </div>
        </td>
      </tr>
      </tbody>
    </table>
  </div>
</div>
